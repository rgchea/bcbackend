{% extends 'BackendAdminBundle::layout.html.twig' %}

{% block breadcrumb %}
    {{ parent() }}
    <li> <a href="{{ path('backend_admin_property_index') }}">{{ 'label_menu.property'|trans  }}</a> </li>
    <li> <a href="{{ path('backend_admin_property_detail', { 'id': entity.id }) }}">{{ 'label_detail'|trans  }}</a> </li>

{% endblock %}

{% block body -%}
    {{ parent() }}

    <style>
        .radio + .radio, .checkbox + .checkbox  {
            margin-top: 0px !important;
        }
    </style>

    {% set myLocale = app.request.getLocale() %}

        <div class="header">
            <div class="container">
                <div class="row">
                    <div class="col-md-3">
                        <h3 class="header-title">{{ 'label_property_details'|trans }}</h3>
                        <h4>{{ entity }}<span style="font-size:14px;"> {{ entity.complex }}</span> </h4>
                    </div>                    
                </div>
                <hr style="border-width: 1px; border-style: dashed; border-color: #93a7b2;"/>

            </div>
        </div>

        <!-- CONTENT -->
        <div class="main-content no-bordertop">
            <div class="container">
                <div class="row">
                    <div class="col-xs-12 col-sm-6">
                        <table class="table table-condensed">
                            <tr>
                                <td class="txt-blue-bold">{{ 'label_tenant'|trans }}:</td>
                                <td>
                                    {% if mainContract.user is null  %}
                                    {{ mainContract.invitationUserEmail }}
                                    {% else %}
                                    {{ mainContract.user.name }}
                                    {% endif %}
                                </td>
                                <td></td>
                            </tr>
                            <tr>
                                <td class="txt-blue-bold">{{ 'label_owner'|trans }}:</td>
                                <td>
                                    {{ mainContract.owner is not null ? mainContract.owner.name : '' }}
                                </td>
                                <td></td>
                            </tr>
                            <tr>
                                <td class="txt-blue-bold">{{ 'label_familiy_members'|trans }}:</td>
                                <td>
                                    {%  set strTenants = '' %}
                                    {%  set intTenants = 0 %}
                                    {% for contract in tenantContracts  %}
                                        {%  set strTenants = strTenants ~ contract.user.name ~ ',' %}
                                        {% set intTenants = intTenants+1 %}
                                    {%  endfor %}

                                    <b>{{ intTenants }}: </b> {{ strTenants }}
                                </td>
                                <td></td>
                            </tr>
                            <tr>
                                <td class="txt-blue-bold">{{ 'label_owner'|trans }} - {{ 'label_email'|trans }}:</td>
                                <td>
                                    {{ mainContract.ownerEmail }}
                                </td>
                                <td></td>
                            </tr>
                            <tr>
                                <td class="txt-blue-bold">{{ 'label_tenant'|trans }} - {{ 'label_email'|trans }}:</td>
                                <td>
                                    {% if mainContract.user is null  %}
                                        {{ mainContract.invitationUserEmail }}
                                    {% else %}
                                        {{ mainContract.user.email }}
                                    {% endif %}
                                </td>
                                <td></td>
                            </tr>
                            <tr>
                                <td class="txt-blue-bold">{{ 'label_owner'|trans }} - {{ 'label_phone'|trans }}:</td>
                                <td>
                                    {{ mainContract.owner is not null ? mainContract.owner.mobilePhone : '' }}
                                </td>
                                <td></td>
                            </tr>
                            <tr>
                                <td class="txt-blue-bold">{{ 'label_tenant'|trans }} - {{ 'label_phone'|trans }}:</td>
                                <td>
                                    {% if mainContract.user is null  %}
                                        ---
                                    {% else %}
                                        {{ mainContract.user.mobilePhone }}
                                    {% endif %}
                                </td>
                                <td></td>
                            </tr>
                        </table>
                    </div> 
                    <div class="col-xs-12 col-sm-6">
                        <table class="table table-condensed">                            
                            <tr>
                                <td class="txt-blue-bold">{{ 'label_property_agreement'|trans }}:</td>
                                <td>
                                    {{ propertyContract.id }}
                                </td>
                                <td></td>
                                <td></td>
                            </tr>                            
                            <tr>
                                <td class="txt-blue-bold">{{ 'label_who_pays_maintenance'|trans }}:</td>
                                <td>
                                    {{ propertyContract.whoPaysMaintenance == 'owner' ? 'label_owner'|trans : 'label_tenant'|trans }}
                                </td>
                                <td></td>
                                <td></td>
                            </tr>                            
                            <tr>
                                <td class="txt-blue-bold">{{ 'label_property_agreement'|trans }} {{ 'label_start'|trans }}:</td>
                                <td>
                                    {{ propertyContract.startDate|date("m/d/Y") }}
                                </td>
                                <td></td>
                                <td></td>
                            </tr>                            
                            
                            <tr>
                                <td class="txt-blue-bold">{{ 'label_property_agreement'|trans }} {{ 'label_end'|trans }}:</td>
                                <td>
                                    {{ propertyContract.endDate|date("m/d/Y") }}
                                </td>
                                <td></td>
                                <td></td>
                            </tr>      
                            <tr>
                                <td class="txt-blue-bold">{{ 'label_maintenance'|trans }} {{ 'label_cost'|trans }}: </td>
                                <td>
                                    {{ propertyContract.maintenancePrice|number_format(2, '.', '') }} 
                                </td>
                                <td>
                                    <a class="link" href="{{ path('backend_admin_property_update_maintenance', {id: entity.id}) }}"  >{{ 'label_update'|trans }}</a>
                                </td>
                                <td></td>
                            </tr> 
                            <tr>
                                <td class="txt-blue-bold">{{ 'label_property_agreement'|trans }} {{ 'label_expires'|trans }} {{ 'label_in'|trans }}: </td>
                                <td>
                                    {{ remainingTime }}
                                </td>
                                <td>                                                                        
                                    <a class="link text-warning" href="{{ path('backend_admin_property_contract_extend', {propertycontract: propertyContract.id}) }}"  >{{ 'label_extend'|trans }}</a>
                                    <a class="link text-danger" href="{{ path('backend_admin_property_contract_cancel', {propertycontract: propertyContract.id}) }}"  >{{ 'label_cancel'|trans }}</a>
                                </td>
                                <td></td>
                            </tr> 
                            <tr>
                                <td class="txt-blue-bold">{{ 'label_post_public_ticket'|trans }} : </td>
                                <td>
                                    <a href="{{ path('backend_admin_property_set_post_pubic_ticket', {pcontract: propertyContract.id, value: 1} ) }}"><input   type="radio" name="post_public_ticket" value="1" {{ propertyContract.postPublicTicket ? 'checked="checked"' : '' }} />{{ 'label_yes'|trans }}</a>
                                
                                </td>
                                <td>                                                                        
                                    <a href="{{ path('backend_admin_property_set_post_pubic_ticket', {pcontract: propertyContract.id, value: 0} ) }}"><input  type="radio" name="post_public_ticket" value="0" {{ propertyContract.postPublicTicket ? '' : 'checked="checked"' }} />{{ 'label_no'|trans }}</a>
                                </td>
                                <td></td>
                            </tr>
                            
                        </table>
                    </div> 
                </div>
                <div class="form-inputs-g">                                                                              
                    <div id="modal-backdrop" class="modal-backdrop-transparent modal-transition"></div>
                    <div class="modal fade" id="orange-modal" tabindex="-1" role="dialog" aria-labelledby="orange-modal-label" data-color="orange">
                        <div class="modal-dialog" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close btn-close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">Ã—</span></button>
                                    <h4 class="modal-title" id="orange-modal-title">{{ 'label_property_contract'|trans }}</h4>
                                </div>
                                <div class="modal-body" id="modal_body">

                                </div>

                            </div>
                        </div>
                    </div>
                                
                    <div id="tabs">
                        <ul class="nav nav-tabs">
                            <li class="active"><a data-toggle="tab" href="#tabs-tickets">{{ 'label_menu.ticket'|trans }}</a></li>
                            <li><a data-toggle="tab" href="#tabs-payments">{{ 'label_menu.payment'|trans }}</a></li>
                            <li><a data-toggle="tab" href="#tabs-booking">{{ 'label_booking'|trans }}</a></li>
                            <li><a data-toggle="tab" href="#tabs-log">{{ 'label_log'|trans }}</a></li>
                        </ul>
                        <div class="tab-content">
                            <div class="tab-pane active" id="tabs-tickets">
                                <!-- widget content -->
                                <div class="widget-body no-padding">

                                    <div class="widget-body-toolbar">

                                    </div>

                                    <table id="ticket_table" class="table table-striped table-hover fulltable">
                                        <tfoot class="dt_tfoot">
                                        <tr>
                                            <th class="pizoteTableID">&nbsp;</th>
                                            <th>{{ 'label_property_contract'|trans }}</th>
                                            <th>{{ 'label_title'|trans }}</th>
                                            <th>&nbsp;</th>
                                            <th>{{ 'label_category'|trans }}</th>
                                            <th>&nbsp;</th>
                                            <th class="pizote-actions">&nbsp;</th>

                                            <th class="pizote-actions">&nbsp;</th>

                                        </tr>
                                        </tfoot>
                                        <thead>
                                        <tr>
                                            {# sorting of properties based on query components #}
                                            <th class="pizoteTableID">ID</th>
                                            <th>{{ 'label_property_contract'|trans }}</th>
                                            <th style="min-width: 250px">{{ 'label_title'|trans }}</th>
                                            <th>{{ 'label_type'|trans }}</th>
                                            <th>{{ 'label_category'|trans }}</th>
                                            <th>{{ 'label_status'|trans }}</th>
                                            <th class="pizote-actions">{{ 'label_time_elapsed'|trans }}</th>

                                            <th class="pizote-actions">{{ 'label_actions'|trans }}</th>
                                        </tr>

                                        </thead>
                                        <tbody></tbody>

                                    </table>
                                    {# display navigation #}

                                </div>
                                <!-- end widget content -->

                            </div>
                            <div class="tab-pane" id="tabs-payments">


                                <!-- widget content -->
                                <div class="widget-body no-padding">

                                    <div class="widget-body-toolbar">

                                    </div>

                                    <table id="payment_table" class="table table-striped  table-hover fulltable">
                                        <tfoot class="dt_tfoot">
                                            <tr>
                                                <th class="pizoteTableID">ID</th>
                                                <th>{{ 'label_property_contract'|trans }}</th>
                                                <th>{{ 'label_description'|trans }}</th>
                                                <th>{{ 'label_property'|trans }}</th>
                                                <th>{{ 'label_type'|trans }}</th>
                                                <th>{{ 'label_status'|trans }}</th>
                                                <th>{{ 'label_issued'|trans }}</th>
                                                <th></th>
                                                <th>&nbsp;</th>

                                            </tr>
                                        </tfoot>
                                        <thead>
                                        <tr>
                                            {# sorting of properties based on query components #}
                                            <th class="pizoteTableID">ID</th>
                                            <th>{{ 'label_property_contract'|trans }}</th>
                                            <th>{{ 'label_description'|trans }}</th>
                                            <th>{{ 'label_property'|trans }}</th>
                                            <th>{{ 'label_type'|trans }}</th>
                                            <th>{{ 'label_status'|trans }}</th>
                                            <th>{{ 'label_issued'|trans }}</th>
                                            <th>{{ 'label_paid'|trans }}</th>
                                            <th>{{ 'label_actions'|trans }}</th>
                                        </tr>

                                        </thead>
                                        <tbody></tbody>

                                    </table>
                                    {# display navigation #}

                                </div>
                                <!-- end widget content -->

                            </div>
                            <div class="tab-pane" id="tabs-booking">

                                <!-- widget content -->
                                <div class="widget-body no-padding">

                                    <div class="widget-body-toolbar">
                                        <div class="row">
                                            <div class="col-md-4">
                                                <label>{{ 'label_requested'|trans }} ({{ 'label_dates'|trans }})</label>
                                            </div>
                                            <div class="clearfix"></div>
                                            <div class="input-daterange">
                                                <div class="col-md-4">
                                                    <input type="text" name="start_date" id="start_date" class="form-control myDate" />
                                                </div>
                                                <div class="col-md-4">
                                                    <input type="text" name="end_date" id="end_date" class="form-control myDate" />
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                    <div class="clearfix"></div>
                                    <br/>

                                    <table  style="width: 100%;" id="booking_table" class="table table-striped table-hover fulltable">
                                        <tfoot class="dt_tfoot">
                                        <tr>
                                            <th class="pizoteTableID">ID</th>
                                            <th>{{ 'label_property_contract'|trans }}</th>
                                            <th>{{ 'label_common_area'|trans }}</th>
                                            <th>{{ 'label_property'|trans }}</th>
                                            <th>{{ 'label_login_user'|trans }}</th>
                                            <th>{{ 'label_status'|trans }}</th>
                                            <th>{{ 'label_event_date'|trans }}</th>
                                            <th>{{ 'label_requested'|trans }}</th>
                                            <th>{{ 'label_approved'|trans }}</th>
                                            {#<th>{{ 'label_complex'|trans }}</th>#}
                                            {#
                                            <th>{{ 'label_hour_from'|trans }}</th>
                                            <th>{{ 'label_hour_to'|trans }}</th>

                                            #}
                                            <th></th>
                                        </tr>
                                        </tfoot>
                                        <thead>
                                        <tr>
                                            {# sorting of properties based on query components #}
                                            <th class="pizoteTableID">ID</th>
                                            <th>{{ 'label_property_contract'|trans }}</th>
                                            <th>{{ 'label_common_area'|trans }}</th>
                                            <th>{{ 'label_property'|trans }}</th>
                                            <th>{{ 'label_login_user'|trans }}</th>
                                            <th>{{ 'label_status'|trans }}</th>
                                            <th>{{ 'label_event_date'|trans }}</th>
                                            <th>{{ 'label_requested'|trans }}</th>
                                            <th>{{ 'label_approved'|trans }}</th>
                                            <th>{{ 'label_actions'|trans }}</th>
                                        </tr>

                                        </thead>
                                        <tbody></tbody>

                                    </table>
                                    {# display navigation #}

                                </div>
                                <!-- end widget content -->                            
                            </div>
                            <div class="tab-pane" id="tabs-log">
                                <br/>

                                <table id="log_table" class="table table-striped  table-hover fulltable">
                                    <thead>
                                        <tr>
                                            <th>{{ 'label_date'|trans }}</th>
                                            <th>{{ 'label_description'|trans }}</th>
                                            <th>{{ 'label_user'|trans }}</th>
                                            <th>{{ 'label_status'|trans }}</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                    {% if entity.complex.geoState.timezoneName is not null %}
                                        {% set timezone =  entity.complex.geoState.timezoneName %}
                                    {% else %}
                                        {% set timezone = 'America/New_York' %}
                                    {% endif %}

                                    {% for key, l in log %}

                                        <tr>
                                            <td>{{ l.date|date("m/d/Y H:i:s", timezone )}}</td>
                                            <td>{{ l.description }}</td>
                                            <td>{{ l.user }}</td>
                                            <td>{{ l.status|trans }}</td>

                                        </tr>
                                    {% endfor %}
                                    </tbody>
                                </table>



                            </div>                                          
                        </div>
                    </div>

                </div>
            </div>

        </div>


    {#--- TICKETS ---#}
    <script type="text/javascript">


        $( function() {
            //$( "#tabs" ).tabs();
        } );


        $(document).ready(function(){


            var ticketsTable;


            function fetchTickets(){

                ticketsTable  = $('#ticket_table').DataTable({
                    "columnDefs": [

                        // These are the column name variables that will be sent to the server
                        { "name": "id",   "targets": 0 },
                        { "name": "contract",   "targets": 1 },
                        { "name": "title",   "targets": 2 },
                        { "name": "type",   "targets": 3 },
                        { "name": "category",   "targets": 4 },
                        { "name": "status",   "targets": 5 },
                        { "name": "elapsed",   "targets": 6 },
                        { "name": "actions",  "targets": 7 },

                    ],
                    // Server-side parameters
                    "processing": true,
                    "serverSide": true,
                    // Ajax call
                    "ajax": {
                        "url": "{{ path('property_ticket_list_datatables', {property: entity.id}) }}",
                        "type": "POST",
                        //dataType: "html"
                    },
                    // Classic DataTables parameters
                    "paging" : true,
                    "info" : true,
                    "searching": true,
                    "pageLength": 10,
                    "order": [[0, 'desc']],
                    {% if myLocale == 'es' %}
                    "language": {
                        "url": "{{ asset('bundles/pizotearkadmin/js/plugin/datatables/dataTables.spanish.lang') }}"
                    }
                    {% else %}
                    "language": {
                        "infoFiltered": ""
                    }
                    {% endif %}



                });

            }

            //### TICKETS ###
            // Add a text input to each footer cell
            var pos = 1;
            $('#ticket_table tfoot th').each( function () {
                var title = $(this).text();
                if(pos == 1 || pos == 2 || pos == 3 || pos == 5 ){//columna Actions
                    $(this).html( "<input id='ticket_input" + pos + "' type='text' class='form-control' style='font-family:Arial, FontAwesome; width:100%'/>" );
                }
                pos ++;
            });


            fetchTickets();

            // Apply the search
            pos = 1;
            ticketsTable.columns().every( function () {
                var that = this;

                $("#ticket_input"+pos).on( 'keyup change', function () {
                    if ( that.search() !== this.value )
                    {
                        that.search( this.value ).draw();
                    }
                });
                pos++;
            });


        });

    </script>

    {#--- BOOKING ---#}
    <script type="text/javascript">


        $(document).ready(function(){


            var tableBooking;

            function fetchData(){

                tableBooking  = $('#booking_table').DataTable({
                    "columnDefs": [

                        // These are the column name variables that will be sent to the server
                        { "name": "id",   "targets": 0 },
                        { "name": "contract",   "targets": 1 },
                        { "name": "commonArea",  "targets": 2 },
                        { "name": "property",   "targets": 3 },
                        { "name": "user",  "targets": 4 },
                        { "name": "status",  "targets": 5 },
                        { "name": "eventDate",  "targets": 6 },
                        { "name": "requested",  "targets": 7 },
                        { "name": "approved",  "targets": 8 },
                        { "name": "actions",  "targets": 9 }


                    ],
                    // Server-side parameters
                    "processing": true,
                    "serverSide": true,
                    // Ajax call
                    "ajax": {
                        "url": "{{ path('property_booking_list_datatables', {property: entity.id}) }}",
                        "type": "POST",
                        data   : function( d ) {
                            d.start_date= $('#start_date').val();
                            d.end_date= $('#end_date').val();

                        },
                        //"dataSrc": ""
                        //data: {start_date:$('#start_date').val(), end_date:$('#end_date').val()},
                    },
                    // Classic DataTables parameters
                    "paging" : true,
                    "info" : true,
                    "searching": true,
                    "pageLength": 10,
                    "order": [[6, 'asc']],/*EVENT DATE*/
                    {% if myLocale == 'es' %}
                    "language": {
                        "url": "{{ asset('bundles/pizotearkadmin/js/plugin/datatables/dataTables.spanish.lang') }}"
                    }
                    {% else %}
                    "language": {
                        "infoFiltered": ""
                    }
                    {% endif %}

                });

            }

            // Add a text input to each footer cell
            var pos = 1;
            $('#booking_table tfoot th').each( function () {
                var title = $(this).text();
                //if( pos != 9){//columna fecha y actions
                    $(this).html( "<input id='booking_input" + pos + "' type='text' class='form-control' style='font-family:Arial, FontAwesome; width:100%'/>" );
                //}

                pos ++;
            });


            fetchData();

            // Apply the search
            pos = 1;
            tableBooking.columns().every( function () {
                var that = this;

                $("#booking_input"+pos).on( 'keyup change', function () {
                    if ( that.search() !== this.value )
                    {
                        that.search( this.value ).draw();
                    }
                });
                pos++;
            });

            //Apply DATES SEARCH
            /*
            $(".myDate").on( 'keyup change', function () {
                table.search( this.value ).draw();
            });
            */


            ///////SEARCH BETWEEN DATES
            $('.input-daterange').datepicker({
                todayBtn:'linked',
                format: "yyyy-mm-dd",
                autoclose: true
            });

            //fetch_data('no');


            $('.myDate').change(function(){
                var start_date = $('#start_date').val();
                var end_date = $('#end_date').val();
                if(start_date != '' && end_date !='')
                {
                    tableBooking.ajax.reload()

                }
                else
                {
                    alert("Both Date is Required");
                }
            });

            $("#booking_input6").remove();
            $("#booking_input7").remove();
            $("#booking_input8").remove();
            $("#booking_input9").remove();
            $("#booking_input10").remove();

        });

    </script>

    {#--- PAYMENTS ---#}
    <script type="text/javascript">


        $(document).ready(function(){



            var paymentsTable;


            function fetchData(){

                paymentsTable  = $('#payment_table').DataTable({
                    "columnDefs": [

                        // These are the column name variables that will be sent to the server
                        { "name": "id",   "targets": 0 },
                        { "name": "contract",   "targets": 1 },
                        { "name": "description",   "targets": 2 },
                        { "name": "property",   "targets": 3 },
                        { "name": "type",   "targets": 4 },
                        { "name": "status",  "targets": 5 },
                        { "name": "createdat",  "targets": 6 },
                        { "name": "paid",  "targets": 7 },
                        { "name": "actions",  "targets": 8 },

                    ],
                    // Server-side parameters
                    "processing": true,
                    "serverSide": true,
                    // Ajax call
                    "ajax": {
                        "url": "{{ path('property_payment_list_datatables', {property: entity.id})  }}",
                        "type": "POST",
                        //dataType: "html"
                    },
                    // Classic DataTables parameters
                    "paging" : true,
                    "info" : true,
                    "searching": true,
                    "pageLength": 10,
                    "order": [[0, 'desc']],
                    {% if myLocale == 'es' %}
                    "language": {
                        "url": "{{ asset('bundles/pizotearkadmin/js/plugin/datatables/dataTables.spanish.lang') }}"
                    }
                    {% else %}
                    "language": {
                        "infoFiltered": ""
                    }
                    {% endif %}


                });

            }

            // Add a text input to each footer cell
            var pos = 1;
            $('#payment_table tfoot th').each( function () {
                var title = $(this).text();
                if(pos != 8){//columna Actions
                    $(this).html( "<input id='payment_input" + pos + "' type='text' class='form-control' style='font-family:Arial, FontAwesome; width:100%'/>" );
                }

                pos ++;
            });


            fetchData();

            // Apply the search
            pos = 1;
            paymentsTable.columns().every( function () {
                var that = this;

                $("#payment_input"+pos).on( 'keyup change', function () {
                    if ( that.search() !== this.value )
                    {
                        that.search( this.value ).draw();
                    }
                });
                pos++;
            });

            $("#payment_input6").remove();
            $("#payment_input7").remove();
            $("#payment_input8").remove();
            $("#payment_input9").remove();

        });



        {#--- LOG ---#}
        $('#log_table').DataTable( {
            /* Disable initial sort */
            "aaSorting": [],

            {% if myLocale == 'es' %}
            "language": {
                "url": "{{ asset('bundles/pizotearkadmin/js/plugin/datatables/dataTables.spanish.lang') }}"
            }
            {% else %}
            "language": {
                "infoFiltered": ""
            }
            {% endif %}

        } );

        $("#log_table_filter").show();



    </script>

    <script type="text/javascript" language="JavaScript">


        function selectPropertyContract(id){

            //ajax
            //

            $("pizote_spinner").show();
            $.ajax({
                type:"POST",
                dataType:"json",
                url:"{{ path('backend_admin_property_contract_info') }}",
                data: { 'id': id },
                success:function(data){
                    console.log(data);
                    $("#orange-modal-title").html("{{ 'label_property_contract'|trans }}"+" #"+data.id);


                    $("#modal_body").html("<br/><span><b>{{ 'label_tenant'|trans }}<b/></span>");
                    $("#modal_body").append("<br/><span>{{ 'label_tenant'|trans }}: "+data.tenant+"</span>");
                    $("#modal_body").append("<br/><span>{{ 'label_email'|trans }}: "+data.tenantMail+"</span>");
                    $("#modal_body").append("<br/><span>{{ 'label_phone'|trans }}: "+data.tenantPhone+"</span>");

                    $("#modal_body").append("<br/><br/><span>{{ 'label_start'|trans }}: "+data.start+"</span>");
                    $("#modal_body").append("<br/><span>{{ 'label_end'|trans }}: "+data.end+"</span>");
                    $("#modal_body").append("<br/><span>{{ 'label_who_pays_maintenance'|trans }}: "+data.whopaysmaintenance+"</span>");
                    $("#modal_body").append("<br/><span>{{ 'label_maintenance'|trans }}: "+data.maintenance+"</span>");


                    $("pizote_spinner").hide();

                }
            });


        }
    </script>



{% endblock %}

{% block extrascripts %}



{% endblock %}