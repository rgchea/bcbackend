<style>
    .input-group {
        z-index: 0;
    }
</style>

<div class="container">
	<div class="row">
		<div class="col-xs-12 col-sm-7 col-md-7 col-lg-4">

		</div>
		<div class="col-xs-12 col-sm-5 col-md-5 col-lg-8">
			<a class="pull-right btn btn-primary btn-lg" href="{{ path('backend_admin_poll_question', {id: entity.id}) }}">
				{{ 'label_poll_view_questions'|trans }}
			</a>
		</div>
	</div>

	<div class="row">
		<article class="col-sm-12 col-md-12 col-lg-12 sortable-grid ui-sortable">

			<div data-widget-editbutton="false" data-widget-colorbutton="false" id="wid-id-2" class="jarviswidget jarviswidget-sortable" style="" role="widget">

				<header role="heading">
					<h2>{{ 'label_form'|trans }}</h2>

				</header>

				<!-- widget div-->
				<div role="content">

					<!-- widget edit box -->
					<div class="jarviswidget-editbox">
						<!-- This area used as dropdown edit box -->

					</div>
					<!-- end widget edit box -->

					<!-- widget content -->
					<div class="widget-body">

						<div class="form-inputs-g">
						{{ form_start(form) }}
						{{ form_errors(form) }}

							<fieldset>

							<div class="form-group col-md-6">
								{{ form_label(form.name) }}
								{{ form_errors(form.name) }}
								{{ form_widget(form.name, { 'attr': {'class' : 'form-control' } }
								) }}
							</div>
							<div class="clearfix"></div>
							<div class="form-group col-md-6">
								{{ form_label(form.description) }}
								{{ form_errors(form.description) }}
								{{ form_widget(form.description, { 'attr': {'class' : 'form-control' } }
								) }}
							</div>
							<div class="clearfix"></div>
							{#
							<div class="form-group col-md-6">
								{{ form_label(form.extraPoints) }}
								{{ form_errors(form.extraPoints) }}
								{{ form_widget(form.extraPoints, { 'attr': {'class' : 'form-control' } }
								) }}
							</div>

							#}
							<div class="clearfix"></div>
							<div class="form-group col-md-6">
								<div class="checkbox">
									<label>
										{{ form_label(form.enabled) }}
										{{ form_errors(form.enabled) }}
										{{ form_widget(form.enabled, { 'attr': {'class' : 'form-control' } }
										) }}

									</label>
								</div>
							</div>

								<div class="hide">
								{{ form_rest(form) }}
							</div>

							</fieldset>

							<div class="clearfix"></div>

							<div id="complexTable">
								<h2 class="header-title-step">{{ 'label_complex_assigned'|trans }}</h2>
								<table class="table table-striped  table-hover" style="width: 60%">
									<thead>
									<tr>
										{# sorting of properties based on query components #}
										<th>ID</th>
										<th>{{ 'label_complex'|trans }}</th>
										<th>{{ 'label_assign'|trans }}</th>
									</tr>

									</thead>
									<tbody>

									{% for complex in arrComplex %}
										<tr>
											<td>{{ complex.id }}</td>
											<td>{{ complex.name }}</td>
											{% if edit is defined %}
												<td>
													<div class="checkbox">
														<label>

															{% if complex.assigned == 1%}
																<input type="checkbox" checked name="complex[{{ complex.id }}]">
															{% else %}
																<input type="checkbox" name="complex[{{ complex.id }}]">
															{% endif %}
														</label>
													</div>

												</td>

											{% else %}
												<td>
													<div class="checkbox">
														<label>

															<input type="checkbox" name="complex[{{ complex.id }}]">
														</label>
													</div>
												</td>

												{#<td><a href="#" onclick="assignComplex({{ complex.id }})"> <i class="fas fa-times"></i></a></td>#}

											{% endif %}


										</tr>
									{% endfor %}

									</tbody>

								</table>

							</div>

							<div class="form-actions">

								<button class="btn btn-primary">
									<i class="fa fa-save"></i>
									{{ 'label_save'|trans  }}
								</button>
							</div>

						<!--</form>-->
						{{ form_end(form) }}
						</div>

					</div>
					<!-- end widget content -->

				</div>
				<!-- end widget div -->

			</div>

			<div class="clearfix"></div>

		</article>
	</div>
</div>
<script type="text/javascript" language="Javascript">

	$( document ).ready(function() {


        $('[name="poll"]').validate();
		$("#poll_extraPoints").rules("add", {required:true, min:1, digits: true});
        
		$('[name="poll"]').on("submit", function(){
			//Code: Action (like ajax...)
			if($("[name='poll']").valid()){
				$('#pizote_spinner').show();
				return true;

			}
			else{
				return false;
			}

		});

	});


</script>